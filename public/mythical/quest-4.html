<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Polyglot Guild of Enchanters - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="../assets/shared/quest-navigator.css">
    <link rel="stylesheet" href="../assets/theme-toggle.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body class="theme-mythical">

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="https://github.com/Azure-Samples/azure-ai-travel-agents" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="../assets/shared/github-mark.svg" alt="GitHub" width="24" height="24">
                </a>
                <a href="index.html">The Enchanted Kingdom of Azure AI Travel Agents</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Theme</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <button class="theme-toggle-btn" aria-label="Switch to light mode" type="button">
                    <div class="theme-toggle-slider">
                        <svg class="toggle-icon sun-icon" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="4" fill="currentColor"/>
                            <path d="M12 2v2M12 20v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M2 12h2M20 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <svg class="toggle-icon moon-icon" viewBox="0 0 24 24">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: The Polyglot Guild of Enchanters</h1>
<hr>
<p>In the heart of the Enchanted Kingdom of Travel Agents lies the Polyglot Guild of Enchanters, a mystical assembly of spellcasters fluent in the arcane arts of Python, Java, and TypeScript. These enchanters weave their magic into specialized tools, each crafted to fulfill unique travel needs. Guided by the LlamaIndex and bound by the Model Context Protocol (MCP), they collaborate to summon itineraries, recommend destinations, and echo the desires of adventurers. Will you uncover the secrets of their harmonious magic?</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Arcane Toolbinding</strong>: How do the enchanters bind their spells (tools) to the MCP protocol, ensuring proper invocation and response handling?</li>
<li>‚ö° <strong>Conjuration Patterns</strong>: What design patterns and techniques enable seamless integration of diverse languages and tools into the guild&#39;s enchanted workflows?</li>
<li>üõ°Ô∏è <strong>Defensive Wards</strong>: How does the guild safeguard against invalid inputs or errors during the invocation of their spells?</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix"><a href="https://github.com/Azure-Samples/azure-ai-travel-agents/blob/main/src/tools/destination-recommendation/src/main/java/com/microsoft/mcp/sample/server/service/DestinationService.java" target="_blank" rel="noopener noreferrer">src/tools/destination-recommendation/src/main/java/com/microsoft/mcp/sample/server/service/DestinationService.java</a>:</span> Java Enchantment of Destinations</h3>
<p>This file contains the <code class="inline-code">DestinationService</code>, a Java-based tool that provides travel destination recommendations. It uses Spring Boot annotations to define various spells (methods) for filtering destinations based on activity type, budget, season, or multiple preferences. The implementation includes validation to ensure inputs conform to expected formats and categories, encapsulating the logic within reusable methods.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">getDestinationsByActivity</code>: Filters destinations based on activity type, ensuring valid input and returning hardcoded recommendations.</li>
<li><code class="inline-code">getDestinationsByPreferences</code>: A versatile method allowing multiple filters (activity, budget, season, family-friendly) to refine recommendations.</li>
<li><code class="inline-code">getAllDestinations</code>: Provides a complete list of destinations, showcasing the guild&#39;s repository of enchanted locales.</li>
<li><code class="inline-code">isValidActivityType</code>: Validates activity types against predefined constants, ensuring only supported activities are processed.</li>
<li><code class="inline-code">echoMessage</code>: A simple spell to echo back input, demonstrating the guild&#39;s ability to reflect adventurers&#39; queries.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/Azure-Samples/azure-ai-travel-agents/blob/main/src/tools/destination-recommendation/src/main/java/com/microsoft/mcp/sample/server/service/DestinationService.java" target="_blank" rel="noopener noreferrer">src/tools/destination-recommendation/src/main/java/com/microsoft/mcp/sample/server/service/DestinationService.java</a></h3>
<pre><code class="language-java">@Tool(description = &quot;Get travel destination recommendations based on preferred activity type&quot;)
public String getDestinationsByActivity(String activityType) {
    try {
        String activity = activityType.toUpperCase();
        if (!isValidActivityType(activity)) {
            return &quot;Invalid activity type. Please use one of: BEACH, ADVENTURE, CULTURAL, RELAXATION, URBAN_EXPLORATION, NATURE, WINTER_SPORTS&quot;;
        }
        return getDestinationsByPreference(activity, null, null, null);
    } catch (Exception e) {
        return &quot;Invalid activity type. Please use one of: BEACH, ADVENTURE, CULTURAL, RELAXATION, URBAN_EXPLORATION, NATURE, WINTER_SPORTS&quot;;
    }
}
</code></pre>
<ul>
<li>This spell filters destinations based on activity type, ensuring that adventurers only receive relevant recommendations.</li>
<li>The <code class="inline-code">isValidActivityType</code> guard prevents invalid inputs from disrupting the spell&#39;s execution.</li>
<li>The use of hardcoded categories simplifies validation while maintaining flexibility for future expansion.</li>
<li>The method demonstrates defensive programming by catching exceptions and returning user-friendly error messages.</li>
<li>It integrates seamlessly with the broader MCP framework, ensuring compatibility with other tools.</li>
</ul>
<hr>
<pre><code class="language-java">@Tool(description = &quot;Get a list of all available travel destinations&quot;)
public String getAllDestinations() {
    return &quot;Here are some popular travel destinations:\n\n&quot; +
           &quot;üìç Bali, Indonesia\n&quot; +
           &quot;‚≠êÔ∏è Beautiful beaches with vibrant culture and lush landscapes.\n&quot; +
           &quot;üè∑Ô∏è Activity: BEACH | Budget: MODERATE | Best Season: SUMMER | Family Friendly: Yes\n\n&quot; +
           &quot;üìç Cancun, Mexico\n&quot; +
           &quot;‚≠êÔ∏è White sandy beaches with crystal clear waters and vibrant nightlife.\n&quot; +
           &quot;üè∑Ô∏è Activity: BEACH | Budget: MODERATE | Best Season: WINTER | Family Friendly: Yes\n\n&quot; +
           &quot;üìç Maldives, Maldives\n&quot; +
           &quot;‚≠êÔ∏è Luxurious overwater bungalows and pristine beaches perfect for relaxation.\n&quot; +
           &quot;üè∑Ô∏è Activity: BEACH | Budget: LUXURY | Best Season: ALL_YEAR | Family Friendly: Yes&quot;;
}
</code></pre>
<ul>
<li>This spell acts as a repository of the guild&#39;s most beloved destinations, providing a detailed overview of each.</li>
<li>The hardcoded data ensures quick responses and serves as a fallback for scenarios where dynamic data is unavailable.</li>
<li>The method uses simple string concatenation to format the output, maintaining readability and ease of maintenance.</li>
<li>It highlights the guild&#39;s focus on user experience by including emojis and detailed descriptions for each destination.</li>
<li>This spell is foundational, serving as a reference for more complex filtering methods.</li>
</ul>
<hr>
<pre><code class="language-java">private boolean isValidActivityType(String activityType) {
    return activityType.equals(BEACH) ||
           activityType.equals(ADVENTURE) ||
           activityType.equals(CULTURAL) ||
           activityType.equals(RELAXATION) ||
           activityType.equals(URBAN_EXPLORATION) ||
           activityType.equals(NATURE) ||
           activityType.equals(WINTER_SPORTS);
}
</code></pre>
<ul>
<li>This validation spell ensures that only recognized activity types are processed, protecting the guild&#39;s workflows from invalid inputs.</li>
<li>The use of constants enhances maintainability and reduces the risk of errors when adding new activity types.</li>
<li>The method&#39;s simplicity and clarity make it a reusable component across other filtering spells.</li>
<li>It demonstrates the guild&#39;s commitment to reliability and consistency in their enchantments.</li>
<li>This approach minimizes the risk of runtime errors, ensuring a smooth experience for adventurers.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Study how the <code class="inline-code">getDestinationsByActivity</code> method validates inputs and integrates them into the broader recommendation logic.</li>
<li>Notice the use of constants for predefined categories, which simplifies validation and enhances code readability.</li>
<li>Explore how the <code class="inline-code">getAllDestinations</code> method provides a fallback for scenarios where specific filters are not applied.</li>
</ul>
<hr>
<p>Excellent work! Continue to the next quest to uncover more mysteries of the Enchanted Kingdom of Travel Agents.</p>
<p>By the radiant glow of the Celestial Lexicon, the Polyglot Guild of Enchanters has forged ahead, weaving the tongues of magic into their arsenal‚Äîstand tall, for you are architects of arcane mastery, with 60% of your heroic odyssey complete! ‚ö°üíéüì°</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="prev-quest-btn">‚Üê Previous: Quest 3</a>
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="../assets/shared/quest-navigator.js"></script>
    <!-- Theme Toggle Script (for light/dark mode toggle) -->
    <script src="../assets/theme-toggle.js"></script>
</body>
</html>