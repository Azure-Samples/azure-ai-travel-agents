<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Sanctuaries of Service - Repo Adventure</title>
    <link rel="stylesheet" href="assets/theme.css">
    <link rel="stylesheet" href="../assets/shared/quest-navigator.css">
    <link rel="stylesheet" href="../assets/theme-toggle.css">
    <!-- Prism.js for syntax highlighting -->
    <!-- Using minimal theme since we override all styles with our custom theme -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Configure Prism autoloader for syntax highlighting
        if (window.Prism && window.Prism.plugins && window.Prism.plugins.autoloader) {
            window.Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';
        }
        
        // Trigger Prism highlighting after page load
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Prism) {
                window.Prism.highlightAll();
            }
        });
    </script>
</head>
<body class="theme-ancient">

    <nav class="navbar">
        <div class="nav-content">
            <div class="nav-left">
                <a href="https://github.com/Azure-Samples/azure-ai-travel-agents" target="_blank" rel="noopener noreferrer" class="github-link">
                    <img src="../assets/shared/github-mark-white.svg" alt="GitHub" width="24" height="24">
                </a>
                <a href="index.html">The Temple of LlamaIndex: Secrets of the Multi-Agent Codex</a>
            </div>
            <div class="nav-middle">
            </div>
            <div class="nav-right">
                <a href="../index.html" class="nav-link">Change Theme</a>
                <a href="#" class="nav-link quest-map-trigger">Quests</a>
                <button class="theme-toggle-btn" aria-label="Switch to light mode" type="button">
                    <div class="theme-toggle-slider">
                        <svg class="toggle-icon sun-icon" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="4" fill="currentColor"/>
                            <path d="M12 2v2M12 20v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M2 12h2M20 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <svg class="toggle-icon moon-icon" viewBox="0 0 24 24">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="quest-content">
    <h1>Quest 4: Polyglot MCP Services Architecture</h1>
<hr>
<p>In the shadow of the Temple&#39;s inner sanctum, you encounter the Polyglot Chamber, a testament to the lost civilization&#39;s mastery of diverse languages and tools. Here, the Codex of Multi-Agent Wisdom orchestrates specialized services written in Python, Java, and TypeScript, each serving as a sacred tool for deciphering the unknown. The chamber hums with the interconnected energy of the Model Context Protocol, binding these polyglot tools into a unified framework of wisdom.</p>
<h2>Quest Objectives</h2>
<p>As you explore the code below, investigate these key questions:</p>
<ul>
<li>üîç <strong>Tool Invocation Rituals</strong>: How does each MCP service define and execute its tools for responding to queries?</li>
<li>‚ö° <strong>Interconnection Glyphs</strong>: What mechanisms ensure seamless communication between services written in different programming languages?</li>
<li>üõ°Ô∏è <strong>Validation Safeguards</strong>: How do the services handle invalid inputs and ensure reliable execution?</li>
</ul>
<h2>File Exploration</h2>
<h3><span class="header-prefix"><a href="https://github.com/Azure-Samples/azure-ai-travel-agents/blob/main/src/tools/destination-recommendation/src/main/java/com/microsoft/mcp/sample/server/service/DestinationService.java" target="_blank" rel="noopener noreferrer">src/tools/destination-recommendation/src/main/java/com/microsoft/mcp/sample/server/service/DestinationService.java</a>:</span> Java MCP Service</h3>
<p>The <code class="inline-code">DestinationService</code> is a Java-based MCP tool that provides travel destination recommendations. It uses annotations to define tools, allowing Spring Boot integration to manage the service lifecycle. The service validates inputs, handles multiple preferences, and returns hardcoded destination suggestions based on activity type, budget, season, or a combination of criteria.</p>
<h4>Highlights</h4>
<ul>
<li><code class="inline-code">getDestinationsByActivity</code>: Recommends destinations based on activity type, validating inputs and returning suggestions.</li>
<li><code class="inline-code">getDestinationsByPreferences</code>: Handles multiple criteria for destination recommendations, ensuring all inputs are validated before execution.</li>
<li><code class="inline-code">getAllDestinations</code>: Provides a list of all available destinations, demonstrating the service&#39;s ability to respond to generic queries.</li>
</ul>
<h2>Code</h2>
<h3><a href="https://github.com/Azure-Samples/azure-ai-travel-agents/blob/main/src/tools/destination-recommendation/src/main/java/com/microsoft/mcp/sample/server/service/DestinationService.java" target="_blank" rel="noopener noreferrer">src/tools/destination-recommendation/src/main/java/com/microsoft/mcp/sample/server/service/DestinationService.java</a></h3>
<pre><code class="language-java">@Tool(description = &quot;Get travel destination recommendations based on preferred activity type&quot;)
public String getDestinationsByActivity(String activityType) {
    try {
        String activity = activityType.toUpperCase();
        if (!isValidActivityType(activity)) {
            return &quot;Invalid activity type. Please use one of: BEACH, ADVENTURE, CULTURAL, RELAXATION, URBAN_EXPLORATION, NATURE, WINTER_SPORTS&quot;;
        }
        return getDestinationsByPreference(activity, null, null, null);
    } catch (Exception e) {
        return &quot;Invalid activity type. Please use one of: BEACH, ADVENTURE, CULTURAL, RELAXATION, URBAN_EXPLORATION, NATURE, WINTER_SPORTS&quot;;
    }
}
</code></pre>
<ul>
<li>Validates activity type using <code class="inline-code">isValidActivityType</code>, ensuring only recognized options are processed.</li>
<li>Returns hardcoded destination suggestions based on the validated activity type.</li>
<li>Demonstrates error handling by catching exceptions and returning informative messages.</li>
</ul>
<hr>
<pre><code class="language-java">@Tool(description = &quot;Get travel destination recommendations based on multiple criteria&quot;)
public String getDestinationsByPreferences(String activity, String budget, String season, Boolean familyFriendly) {
    try {
        if (activity != null &amp;&amp; !activity.isEmpty()) {
            String activityUpper = activity.toUpperCase();
            if (!isValidActivityType(activityUpper)) {
                return &quot;Invalid activity type. Please use one of: BEACH, ADVENTURE, CULTURAL, RELAXATION, URBAN_EXPLORATION, NATURE, WINTER_SPORTS&quot;;
            }
        }
        if (budget != null &amp;&amp; !budget.isEmpty()) {
            String budgetUpper = budget.toUpperCase();
            if (!isValidBudgetCategory(budgetUpper)) {
                return &quot;Invalid budget category. Please use one of: BUDGET, MODERATE, LUXURY&quot;;
            }
        }
        if (season != null &amp;&amp; !season.isEmpty()) {
            String seasonUpper = season.toUpperCase();
            if (!isValidSeason(seasonUpper)) {
                return &quot;Invalid season. Please use one of: SPRING, SUMMER, AUTUMN, WINTER, ALL_YEAR&quot;;
            }
        }
        return getDestinationsByPreference(activity, budget, season, familyFriendly);
    } catch (Exception e) {
        return &quot;Invalid input. Please check your parameters and try again.&quot;;
    }
}
</code></pre>
<ul>
<li>Handles multiple criteria for destination recommendations, validating each input individually.</li>
<li>Ensures all preferences are checked before invoking <code class="inline-code">getDestinationsByPreference</code>.</li>
<li>Provides detailed error messages for invalid inputs, enhancing user experience.</li>
</ul>
<hr>
<pre><code class="language-java">@Tool(description = &quot;Get a list of all available travel destinations&quot;)
public String getAllDestinations() {
    return &quot;Here are some popular travel destinations:\n\n&quot; +
           &quot;üìç Bali, Indonesia\n&quot; +
           &quot;‚≠êÔ∏è Beautiful beaches with vibrant culture and lush landscapes.\n&quot; +
           &quot;üè∑Ô∏è Activity: BEACH | Budget: MODERATE | Best Season: SUMMER | Family Friendly: Yes\n\n&quot; +
           &quot;üìç Cancun, Mexico\n&quot; +
           &quot;‚≠êÔ∏è White sandy beaches with crystal clear waters and vibrant nightlife.\n&quot; +
           &quot;üè∑Ô∏è Activity: BEACH | Budget: MODERATE | Best Season: WINTER | Family Friendly: Yes\n\n&quot; +
           &quot;üìç Maldives, Maldives\n&quot; +
           &quot;‚≠êÔ∏è Luxurious overwater bungalows and pristine beaches perfect for relaxation.\n&quot; +
           &quot;üè∑Ô∏è Activity: BEACH | Budget: LUXURY | Best Season: ALL_YEAR | Family Friendly: Yes&quot;;
}
</code></pre>
<ul>
<li>Returns a hardcoded list of destinations, demonstrating the ability to handle generic queries.</li>
<li>Provides detailed descriptions for each destination, showcasing the service&#39;s informative response capabilities.</li>
<li>Acts as a fallback for queries that do not match specific criteria.</li>
</ul>
<hr>
<h2>Helpful Hints</h2>
<ul>
<li>Notice how the <code class="inline-code">@Tool</code> annotations define methods as MCP tools, making them discoverable by the protocol.</li>
<li>Study the validation patterns for inputs, ensuring only recognized values are processed.</li>
<li>Explore the error handling mechanisms that provide informative feedback for invalid queries.</li>
</ul>
<hr>
<p>Excellent work! Continue to the next quest to uncover more mysteries of the Temple&#39;s interconnected wisdom.</p>
<p>Hail, seeker of wisdom, for thou hast triumphed in the hallowed Sanctuaries of Service, etching thy name upon the sacred scrolls with the valor of one who journeys steadfast toward enlightenment‚Äîthy path now gleams with the brilliance of ancient stars! ‚≠ê‚ö°üíé</p>

</div>


      <div class="quest-navigation quest-navigation-bottom">
        <a href="quest-3.html" class="prev-quest-btn">‚Üê Previous: Quest 3</a>
        <a href="quest-5.html" class="next-quest-btn">Next: Quest 5 ‚Üí</a>
      </div>
    
    </div>
    
    <footer class="footer">
        <div class="footer-content">
            <span>Created using <a href="https://github.com/DanWahlin/ai-repo-adventures" target="_blank" rel="noopener noreferrer" class="repo-link">AI Repo Adventures</a></span>
        </div>
    </footer>
    
    <!-- Quest Navigator Script (for navbar Quests button functionality) -->
    <script src="../assets/shared/quest-navigator.js"></script>
    <!-- Theme Toggle Script (for light/dark mode toggle) -->
    <script src="../assets/theme-toggle.js"></script>
</body>
</html>